CREATE TABLE ST_GROUP (
    GROUP_ID NUMBER(2) CONSTRAINT PK_GROUP_ID PRIMARY KEY,
    GROUP_DESC VARCHAR2(20) CONSTRAINT NN_GROUP_DESC NOT NULL,
    GROUP_TYPE VARCHAR2(3) CONSTRAINT CK_GROUP_TYPE CHECK (GROUP_TYPE='DEC' OR GROUP_TYPE='AEC' OR GROUP_TYPE='LEA')
);

CREATE TABLE ST_COURSE (
    COURSE_ID NUMBER(2) CONSTRAINT PK_COURSE_ID PRIMARY KEY,
    COURSE_DESC VARCHAR2(20) CONSTRAINT NN_COURSE_DESC NOT NULL,
    NBRE_HOURS NUMBER(2) CONSTRAINT CK_NBRE_HOURS CHECK (NBRE_HOURS>=45 AND NBRE_HOURS<=90)
);

CREATE TABLE STUDENT (
    STUDENT_ID NUMBER(3) CONSTRAINT PK_STUDENT_ID PRIMARY KEY,
    LAST_NAME VARCHAR2(20) CONSTRAINT NN_LAST_NAME NOT NULL,
    FIRST_NAME VARCHAR2(20) CONSTRAINT NN_FIRST_NAME NOT NULL,
    ADDRESS VARCHAR2(40) CONSTRAINT NN_ADDRESS NOT NULL,
    BIRTH_DATE DATE,
    GROUP_ID NUMBER(2) CONSTRAINT FK_GROUP_ID REFERENCES ST_GROUP(GROUP_ID)
);

CREATE TABLE ST_REGISTRATION (
    STUDENT_ID NUMBER(3) CONSTRAINT FK_STUDENT_ID REFERENCES STUDENT(STUDENT_ID),
    COURSE_ID NUMBER(2) CONSTRAINT FK_COURSE_ID REFERENCES ST_COURSE(COURSE_ID),
    REG_DATE DATE,
    CONFIRMATION VARCHAR2(3) CONSTRAINT CK_CONFIRMATION CHECK (CONFIRMATION='YES' OR CONFIRMATION='NO'),
    CONSTRAINT PK_ST_REGISTRATION PRIMARY KEY(STUDENT_ID, COURSE_ID, REG_DATE)
);
